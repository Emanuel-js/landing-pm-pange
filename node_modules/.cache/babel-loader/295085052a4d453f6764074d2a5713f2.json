{"ast":null,"code":"'use strict';\n\nimport { useEffect, useState } from 'react';\nimport throttle from 'lodash.throttle';\n\nconst useInView = function () {\n  let offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  const [ref, setRef] = useState(null);\n  const [inView, setInView] = useState(false);\n  useEffect(() => {\n    const elementYPos = () => {\n      return ref.getBoundingClientRect().top + window.pageYOffset - window.innerHeight + offset;\n    };\n\n    if (!ref) {\n      return;\n    }\n\n    const handleScroll = throttle(() => {\n      if (!ref) {\n        return;\n      }\n\n      if (window.pageYOffset >= elementYPos()) {\n        window.removeEventListener('scroll', handleScroll);\n        setInView(true);\n      }\n    }, 200);\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    handleScroll();\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [ref, offset]);\n  return [setRef, inView];\n};\n\nexport default useInView;","map":{"version":3,"names":["useEffect","useState","throttle","useInView","offset","ref","setRef","inView","setInView","elementYPos","getBoundingClientRect","top","window","pageYOffset","innerHeight","handleScroll","removeEventListener","addEventListener","passive"],"sources":["E:/Projects/project/project mangement dashbord/landing-pm-pange/node_modules/@owaiswiz/use-in-view/index.js"],"sourcesContent":["'use strict';\r\nimport {useEffect, useState} from 'react';\r\nimport throttle from 'lodash.throttle';\r\n\r\nconst useInView = (offset = 0) => {\r\n\tconst [ref, setRef] = useState(null);\r\n\tconst [inView, setInView] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tconst elementYPos = () => {\r\n\t\t\treturn (\r\n\t\t\t\tref.getBoundingClientRect().top +\r\n\t\t\t\twindow.pageYOffset -\r\n\t\t\t\twindow.innerHeight +\r\n\t\t\t\toffset\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tif (!ref) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst handleScroll = throttle(() => {\r\n\t\t\tif (!ref) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (window.pageYOffset >= elementYPos()) {\r\n\t\t\t\twindow.removeEventListener('scroll', handleScroll);\r\n\t\t\t\tsetInView(true);\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t\twindow.addEventListener('scroll', handleScroll, {passive: true});\r\n\t\thandleScroll();\r\n\r\n\t\treturn () => window.removeEventListener('scroll', handleScroll);\r\n\t}, [ref, offset]);\r\n\r\n\treturn [setRef, inView];\r\n};\r\n\r\nexport default useInView;\r\n"],"mappings":"AAAA;;AACA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,QAAP,MAAqB,iBAArB;;AAEA,MAAMC,SAAS,GAAG,YAAgB;EAAA,IAAfC,MAAe,uEAAN,CAAM;EACjC,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBL,QAAQ,CAAC,IAAD,CAA9B;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,KAAD,CAApC;EACAD,SAAS,CAAC,MAAM;IACf,MAAMS,WAAW,GAAG,MAAM;MACzB,OACCJ,GAAG,CAACK,qBAAJ,GAA4BC,GAA5B,GACAC,MAAM,CAACC,WADP,GAEAD,MAAM,CAACE,WAFP,GAGAV,MAJD;IAMA,CAPD;;IASA,IAAI,CAACC,GAAL,EAAU;MACT;IACA;;IAED,MAAMU,YAAY,GAAGb,QAAQ,CAAC,MAAM;MACnC,IAAI,CAACG,GAAL,EAAU;QACT;MACA;;MAED,IAAIO,MAAM,CAACC,WAAP,IAAsBJ,WAAW,EAArC,EAAyC;QACxCG,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC;QACAP,SAAS,CAAC,IAAD,CAAT;MACA;IACD,CAT4B,EAS1B,GAT0B,CAA7B;IAUAI,MAAM,CAACK,gBAAP,CAAwB,QAAxB,EAAkCF,YAAlC,EAAgD;MAACG,OAAO,EAAE;IAAV,CAAhD;IACAH,YAAY;IAEZ,OAAO,MAAMH,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC,CAAb;EACA,CA5BQ,EA4BN,CAACV,GAAD,EAAMD,MAAN,CA5BM,CAAT;EA8BA,OAAO,CAACE,MAAD,EAASC,MAAT,CAAP;AACA,CAlCD;;AAoCA,eAAeJ,SAAf"},"metadata":{},"sourceType":"module"}